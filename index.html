<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collaborative Whiteboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Modal de Login/Cadastro -->
    <div class="modal fade" id="authModal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Login ou Cadastro</h5>
                </div>
                <div class="modal-body">
                    <input type="email" id="auth-email" class="form-control mb-2" placeholder="Email" />
                    <input type="password" id="auth-password" class="form-control mb-3" placeholder="Senha" />
                    <div class="d-grid gap-2">
                        <button class="btn btn-primary" onclick="login()">Entrar</button>
                        <button class="btn btn-secondary" onclick="signup()">Cadastrar</button>
                    </div>
                    <div id="auth-error" class="text-danger mt-3"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="app" style="display: none;">
        <div id="toolbar">
            <div class="toolbar">
                <input type="color" id="color-picker" value="#000000">
                <button id="pencil-tool" class="btn btn-secondary tool-btn active" data-tool="pencil">âœï¸ Pencil</button>
                <button id="text-tool" class="btn btn-secondary tool-btn" data-tool="text">T Text</button>

                <!-- Dropdown for Geometric Shapes -->
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle tool-btn" type="button" id="geometric-shapes-dropdown" data-bs-toggle="dropdown" aria-expanded="false">
                        ğŸ”· Shapes
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="geometric-shapes-dropdown">
                        <li><button class="dropdown-item" id="rect-tool" data-tool="rect">â¬œ Rectangle</button></li>
                        <li><button class="dropdown-item" id="circle-tool" data-tool="circle">âšª Circle</button></li>
                        <li><button class="dropdown-item" id="line-tool" data-tool="line">â– Line</button></li>
                        <li><button class="dropdown-item" id="star-tool" data-tool="star">âœ¦ Star</button></li>
                        <li><button class="dropdown-item" id="arrow-tool" data-tool="arrow">â¤ Arrow</button></li>
                        <li><button class="dropdown-item" id="polygon-tool" data-tool="polygon">ğŸ”· Polygon</button></li>
                    </ul>
                </div>

                <button id="move-tool" class="btn btn-secondary tool-btn" data-tool="move">â†”ï¸ Move</button>
                <button id="delete-tool" class="btn btn-secondary tool-btn" data-tool="delete">ğŸ§¹ Clean</button>
                <button id="eraser-tool" class="btn btn-secondary tool-btn" data-tool="eraser">ğŸ§½ Eraser</button>
                <button id="undo-btn" class="btn btn-warning">â†©ï¸ Undo</button>
                <button id="redo-btn" class="btn btn-warning">â†ªï¸ Redo</button>
                <!-- <button id="multiplayer-btn" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#multiplayer-modal">ğŸ‘¥ Multiplayer</button> -->
                <button id="dark-mode-toggle" class="btn btn-secondary tool-btn">ğŸŒ™ Dark Mode</button>
            </div>
        </div>
        <div id="canvas-container">
            <canvas id="whiteboard"></canvas>
        </div>
    </div>

    <!-- Existing multiplayer modal -->
    <div class="modal fade" id="multiplayer-modal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Multiplayer</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="username" class="form-label">Username</label>
                        <input type="text" class="form-control" id="username">
                    </div>
                    <div class="mb-3">
                        <label for="room-code" class="form-label">Room Code</label>
                        <input type="text" class="form-control" id="room-code">
                    </div>
                    <button id="join-room-btn" class="btn btn-primary">Join Room</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap & App -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="app.js"></script>

</body>

</html>